---
id: 250
title: Viewing ipv6 router advertisements
date: 2010-09-03T13:00:00-06:00
author: Nick Buraglio
layout: revision
guid: http://www.forwardingplane.net/2010/09/53-revision/
permalink: /2010/09/53-revision/
---
I knew a tool like this had to exist, but I had never needed to look in the past.  While debugging a RA problem, I come upon the need to view IPv6 router advertisements.  How can one do this?  tcpdump?  Yeah, I guess that could work.  It&#8217;s almost like using a bulldozer when a wheelbarrow is all you need, though.  I could use [ndpmon](http://ndpmon.sourceforge.net/), I suppose, but that, too seems like overkill.  
So, the search began. After about 10 seconds of google searching&#8230;.. Success!  A tool, does in fact exist for viewing exactly that type of packet.  
Enter [radvdump](http://gd.tuwien.ac.at/linuxcommand.org/man_pages/radvdump8.html).  It is part of the marvelous [rtadvd](http://www.freebsd.org/cgi/man.cgi?query=rtadvd&sektion=8) project.  It also exists in [MacPorts](http://www.macports.org/). 

Sweet, now I can see my IPv6 router advertisements in a very simple manner.  The syntax is very straightforward, the command <span style="font-family: 'Courier New', Courier, monospace; font-size: small;">sudo /opt/local/sbin/radvdump </span>will yield you pretty much everything you need to know about what is in your router advertisement:

<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">#</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># radvd configuration generated by radvdump 1.6</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># based on Router Advertisement from fe80::20d:b9ff:fe18:8ca1</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># received by interface en0</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">#</span></span>

<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">interface en0</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvSendAdvert on;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"># Note: {Min,Max}RtrAdvInterval cannot be obtained with radvdump</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvManagedFlag off;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOtherConfigFlag off;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvReachableTime 0;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRetransTimer 0;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvCurHopLimit 64;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvDefaultLifetime 1800;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvHomeAgentFlag off;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvDefaultPreference medium;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvSourceLLAddress on;</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">prefix 2001:470:xxxx:xxx::/64</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvValidLifetime 2592000;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvPreferredLifetime 604800;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOnLink on;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvAutonomous on;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRouterAddr off;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of prefix definition</span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">prefix 2001:470:xxxx:xxx::/64</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">{</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvValidLifetime 2592000;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvPreferredLifetime 604800;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvOnLink on;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvAutonomous on;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">AdvRouterAddr off;</span></span>  
<span style="white-space: pre;"><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"> </span></span></span><span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of prefix definition</span></span>  
<span style="font-family: 'Courier New', Courier, monospace;"><span style="font-size: small;"><br /></span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;"><br /></span></span>  
<span style="font-size: small;"><span style="font-family: 'Courier New', Courier, monospace;">}; # End of interface definition</span></span>  
<span style="font-family: 'Courier New', Courier, monospace;"><span style="font-size: small;"><br /></span></span>

Once you have all of that working, head over to see the [dancing kame](http://www.kame.net/) (if you&#8217;re old school) of just head to [my main domain](http://www.buraglio.com/) and it&#8217;ll show you your ipv4 or ipv6 address at the top. Alternatively, you can use [google over ipv6](http://www.google.com/intl/en/ipv6/) in a number of [ways](http://ipv6.google.com/).

<div>
  [[ This is a content summary only. Visit my website for full links, other content, and more! ]]
</div>